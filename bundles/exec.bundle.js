(()=>{let parent=null;const acceptedFunctions=["mousePressed","mouseReleased","mouseClicked","mouseMoved","mouseDragged","doubleClicked","mouseWheel","keyPressed","keyReleased","keyTyped","touchStarted","touchEnded"],oldLog=console.log,oldWarn=console.warn,oldErr=console.error;function logMessage(e,...n){if(null===parent)return;let t={type:e,message:n.join(" ")};parent.postMessage(JSON.stringify(t))}function runJs(js){eval(js);let eventFunctions=[];for(let acceptedFunc of acceptedFunctions){let funcDef;try{funcDef=eval(acceptedFunc)}catch(e){funcDef=void 0}void 0!==funcDef&&eventFunctions.push(funcDef)}void 0!==draw&&void 0!==setup&&startP5(draw,setup,eventFunctions)}function startP5(e,n,t){window.setup=function(){createCanvas(500,500),createCanvas=function(){console.error("createCanvas is disabled")},document.getElementById("defaultCanvas0").style.width="100vmin",document.getElementById("defaultCanvas0").style.height="100vmin",n()};for(let e of t)acceptedFunctions.includes(e.name)&&(window[e.name]=e);window.draw=e,new p5}function __canvasTest(){background(0),stroke(255);for(let e=0;e<500;e+=10){let n=(frameCount%500-e)/490,t=e/500;fill(255*n,0,255*t),rect(490*n,0,10,10),fill(0,255*n,255*t),rect(0,490*n,10,10)}fill(255),ellipse(mouseX,mouseY,10,10),textAlign(CENTER),text("Welcome back",250,250)}console.log=function(...e){logMessage("log",e)},console.warn=function(...e){logMessage("warn",e)},console.error=function(...e){logMessage("error",e)},window.onerror=function(e){logMessage("error",e)},window.addEventListener("message",(({data:e,source:n})=>{null===parent&&(parent=n),runJs(e)})),document.addEventListener("contextmenu",(e=>{e.preventDefault()}))})();
//# sourceMappingURL=exec.bundle.js.map